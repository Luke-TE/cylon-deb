#!/bin/bash
#Module containing functions called from cylon package
#Functions : SystemSecFunc 

#FUNCTION HEADER
# NAME :  SystemSecFunc
# DESCRIPTION: display security menu called from main menu
function SystemSecFunc
{
	clear
	local choiceSecVar=""
	local mylengthVar=""
	
	while true; do
	msgFunc blue "System Security Menu options:-"
	local optionsSecArr=("$(checkPacFunc ccrypt NOMES)" "Password generator" "Return")
			select choiceSecVar in "${optionsSecArr[@]}"
			do
			case "$choiceSecVar" in 
			 "${optionsSecArr[0]}") # ccrypt - encrypt and decrypt files 
				ccryptFunc
			 ;;
	
			 
			 "${optionsSecArr[1]}") #Password generator
				#password section
				makeDirFunc "-SYSSECURITY"
				msgFunc green "Random Password generator"
				msgFunc norm "Enter length:-"
				read -r mylengthVar
				if [ -z "$mylengthVar" ]; then
					mylengthVar=50
				fi
				echo -n "$(< /dev/urandom tr -dc "_*?#!A-Z-a-z-0-9" | head -c"${1:-$mylengthVar}";)">pg
				msgFunc green "Done!"
			 ;;
			 
			 *)  #exit  
				clear
				return
			;;
			esac
			break
			done
done
}


